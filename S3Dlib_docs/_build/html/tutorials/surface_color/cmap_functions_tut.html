
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Color Mapping Using Functions &#8212; s3dlibdoc 20.07.23 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/s3dlib.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/s3dliblogo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Examples" href="../../examples/index.html" />
    <link rel="prev" title="Color Mapped Surface Normals" href="cmap_normals_tut.html" /> 
  </head><body>

<div style="background-color: white; text-align: left">
        
<a href="../../index.html"><img src="../../_static/s3dliblogo.png"></a>


<nav class="main-nav">
        <ul>
            <li><a href="../../inst_index.html">Installation</a></li>
            <li><a href="../../doc_index.html">Documentation</a></li>
            <li><a href="../index.html">Tutorials</a></li>
            <li><a href="../../examples/index.html">Examples</a></li>
            <li><a href="../../docs/index.html">API</a>&nbsp;</li>
        </ul>
</nav>


</div>







    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../examples/index.html" title="Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cmap_normals_tut.html" title="Color Mapped Surface Normals"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U">Tutorial</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="cmap_normals_tut.html"
                        title="previous chapter">Color Mapped Surface Normals</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../examples/index.html"
                        title="next chapter">Examples</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/tutorials/surface_color/cmap_functions_tut.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="color-mapping-using-functions">
<span id="cmap-functions-tut"></span><h1>Color Mapping Using Functions<a class="headerlink" href="#color-mapping-using-functions" title="Permalink to this headline">¶</a></h1>
<p>Surface color can be defined from function values that are mapped to colors using colormaps by calling the
<em>surface</em> object method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surface</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="n">op</span><span class="p">,</span> <span class="n">camp</span> <span class="p">)</span>
</pre></div>
</div>
<p>The <em>op</em> argument is a function with coordinate arguments and returning a single
value.  The  <em>cmap</em> argument is a color map or registered color map name.  Returned
function values at face coordinates are normalized and colors mapped from the colormap.</p>
<p>For this tutorial, the following two example functions are used to demonstrate this
method:</p>
f(x,y) = &half;sin( 6r )  <i>where</i> r = ( x<sup>2</sup> + y<sup>2</sup> ) <sup>&half;</sup>
<br/>
g(x,y) = sin( -xy )<p>First, consider the 2D visualization of the function f(x,y) using a simple Matplotlib script.</p>
<img alt="../../_images/col_func0.png" class="sphx-glr-single-img" src="../../_images/col_func0.png" />
<p>The script, in the following, is organized in the three part structure to
parallel the construction which will be further used for 3D visualizations.  Without a colorbar,
there is no indication as to the functional range for the applied domain.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># 1. Define function to examine ....................................</span>

<span class="k">def</span> <span class="nf">f_func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span> <span class="mf">6.0</span><span class="o">*</span><span class="n">r</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">Z</span>
    
<span class="c1"># 2. Setup and map plane ...........................................</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span>
<span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">f_func</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">)</span>

<span class="c1"># 3. Construct figure, add surface, and plot ......................</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">2.65</span><span class="p">,</span><span class="mf">2.65</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlGn&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>For a 3D visualization of the function, first consider applying a colormap based on one coordinate
position of the surface, in this case the z-axis.  This is the 3D surface color mapping method
used in the numerous Matplotlib
<a class="reference external" href="https://matplotlib.org/3.1.1/gallery/index.html#d-plotting">3D plotting Gallery</a>
examples.</p>
<p>The following 3D plots of this function only differ by the projected views of the surface.  The default
Matplotlib view is used for the left plot.  The right plot used a view directly normal to
the xy plane (looking directly down from the top) .</p>
<p>For the left plot, the functional values are represented by the elevation of the surface
relative to the z-axis.  The colormap is actually redundant, it contributes very little
additional information. Surface shading would be sufficient for the 3D plot since the Z-axis
provides the functional values over the domain.</p>
<img alt="../../_images/col_func1.png" class="sphx-glr-single-img" src="../../_images/col_func1.png" />
<p>When using the geometry to map colors, a mapping function can be defined which takes 3xN array
and returns a single N array value as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="c1"># define v = f(x,y,z)</span>
    <span class="k">return</span> <span class="n">v</span>
</pre></div>
</div>
<p>A lambda function may be convenient to return a single N value from a function.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">otherfunc</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
     <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
     <span class="c1"># define X,Y,Z = f(x,y,z)</span>
     <span class="k">return</span> <span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span>

<span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">otherfunc</span><span class="p">(</span><span class="n">xyz</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>When the return value is simply based on the surface geometry coordinates, the lambda function
is simplified.  For example, when only the z-coordinate is used to map color, ie. z=xyz[2]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">xyz</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>In the following script, the highlighted lines show the object method call used to
map the colors.  Instead of defining a separate function for the color mapping, lambda
functions were used as the mapping function argument.  The two different lambda functions
result in the identical values.  The first calls the geometry function and only returns
the z coordinate value.
The second lambda function just returns the z coordinate from the surface coordinates
which has already been mapped.  In both cases, the object color map is assigned
during instantiation and then used in the functional mapping.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the color map argument is not provided in the method call, the surface
object color map is used.  If no color map is assigned during object instantiation,
the Matplotlib default colormap of ‘viridis’ is used.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">s3dlib.surface</span> <span class="k">as</span> <span class="nn">s3d</span>

<span class="c1"># 1. Define function to examine .....................................</span>

<span class="k">def</span> <span class="nf">f_func</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span> <span class="mf">6.0</span><span class="o">*</span><span class="n">r</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>

<span class="c1"># 2. Setup and map surfaces .........................................</span>

<span class="n">surface_1</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlGn&#39;</span> <span class="p">)</span>
<span class="n">surface_1</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">f_func</span> <span class="p">)</span>
<span class="hll"><span class="n">surface_1</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span><span class="p">:</span> <span class="n">f_func</span><span class="p">(</span><span class="n">xyz</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span>
</span>
<span class="n">surface_2</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlGn&#39;</span> <span class="p">)</span>
<span class="n">surface_2</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">f_func</span> <span class="p">)</span>
<span class="hll"><span class="n">surface_2</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span><span class="p">:</span> <span class="n">xyz</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span>
</span>
<span class="c1"># 3. Construct figures, add surface, plot ...........................</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mf">4.5</span><span class="p">))</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;z-axis: f(x,y)</span><span class="se">\n</span><span class="s1">color: f(x,y)&#39;</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface_1</span><span class="p">)</span>
<span class="c1"># .........</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
<span class="hll"><span class="n">ax2</span><span class="o">.</span><span class="n">set_proj_type</span><span class="p">(</span><span class="s1">&#39;ortho&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">ax2</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="n">elev</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">azim</span><span class="o">=-</span><span class="mi">90</span><span class="p">)</span>
</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;elev=90, azim=-90</span><span class="se">\n</span><span class="s1">proj_type=ortho</span><span class="se">\n\n</span><span class="s1">color: f(x,y)&#39;</span><span class="p">)</span>

<span class="n">ax2</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface_2</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>A core concept using S3Dlib is that surface geometry and surface color are controlled separately.  Whereas geometry
can be used to define color using a colormap, versatility of S3Dlib is using this separation.  This is
particularly useful as shown in the examples of <a class="reference internal" href="../../examples/functional/complex.html#complex"><span class="std std-ref">Complex Number Representation, Geometry and Colormap</span></a> or <a class="reference internal" href="../../examples/functional/sph_harm.html#sph-harm"><span class="std std-ref">Two methods of Representing </span></a>.  In addition, surface
shape defined by parametric values were indicated by color in the  <a class="reference internal" href="../../examples/animations/anim_cat2heli.html#anim-cat2heli"><span class="std std-ref">Parametric Animation</span></a> example.
In the examples section, surface shading is primarily only applied to enhance the visualization of the geometry,
whereas color is generally used for additional functional relationships.</p>
<img alt="../../_images/col_func2.png" class="sphx-glr-single-img" src="../../_images/col_func2.png" />
<p>This concept is demonstrated above using both the f and g functions, but separately for
color and geometry.  In the two pair of highlighted lines in the script below, only the functional calls are reversed.
A moderated amount of shading was applied.  This was needed for the left plot to enhance the
geometry since only a slight variation in the g function occurs near the origin.  Further
annotation of these plots would be to include colorbar values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">s3dlib.surface</span> <span class="k">as</span> <span class="nn">s3d</span>

<span class="c1"># 1. Define function to examine .....................................</span>

<span class="k">def</span> <span class="nf">f_func</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span> <span class="mf">6.0</span><span class="o">*</span><span class="n">r</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>

<span class="k">def</span> <span class="nf">g_func</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>

<span class="c1"># 2. Setup and map surfaces .........................................</span>

<span class="n">surface_1</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlGn&#39;</span> <span class="p">)</span>
<span class="hll"><span class="n">surface_1</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">f_func</span> <span class="p">)</span>
</span><span class="hll"><span class="n">surface_1</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span><span class="p">:</span> <span class="n">g_func</span><span class="p">(</span><span class="n">xyz</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="o">.</span><span class="mi">3</span><span class="p">)</span>
</span>
<span class="n">surface_2</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlGn&#39;</span> <span class="p">)</span>
<span class="hll"><span class="n">surface_2</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">g_func</span> <span class="p">)</span>
</span><span class="hll"><span class="n">surface_2</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span><span class="p">:</span> <span class="n">f_func</span><span class="p">(</span><span class="n">xyz</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="o">.</span><span class="mi">3</span><span class="p">)</span>
</span>
<span class="c1"># 3. Construct figures, add surface, plot ...........................</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;z-axis: f(x,y)</span><span class="se">\n</span><span class="s1"> color: g(x,y)&#39;</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface_1</span><span class="p">)</span>
<span class="c1"># .........</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;z-axis: g(x,y)</span><span class="se">\n</span><span class="s1"> color: f(x,y)&#39;</span><span class="p">)</span>

<span class="n">ax2</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface_2</span><span class="p">)</span>
<span class="c1"># .........</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../examples/index.html" title="Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="cmap_normals_tut.html" title="Color Mapped Surface Normals"
             >previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >Tutorial</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, frank zaverl.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>