
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hello World &#8212; s3dlibdoc 20.07.23 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/s3dlib.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/s3dliblogo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Coordinates and Functions" href="basic_coor.html" />
    <link rel="prev" title="Tutorial" href="../index.html" /> 
  </head><body>

<div style="background-color: white; text-align: left">
        
<a href="../../index.html"><img src="../../_static/s3dliblogo.png"></a>


<nav class="main-nav">
        <ul>
            <li><a href="../../inst_index.html">Installation</a></li>
            <li><a href="../../doc_index.html">Documentation</a></li>
            <li><a href="../index.html">Tutorials</a></li>
            <li><a href="../../examples/index.html">Examples</a></li>
            <li><a href="../../docs/index.html">API</a>&nbsp;</li>
        </ul>
</nav>


</div>







    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="basic_coor.html" title="Coordinates and Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U">Tutorial</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Hello World</a><ul>
<li><a class="reference internal" href="#general-concepts">General Concepts</a></li>
<li><a class="reference internal" href="#default-3d-surface">Default 3D Surface</a></li>
<li><a class="reference internal" href="#surface-resolution">Surface Resolution</a></li>
<li><a class="reference internal" href="#geometric-mapping">Geometric Mapping</a></li>
<li><a class="reference internal" href="#surface-properties">Surface Properties</a><ul>
<li><a class="reference internal" href="#edges">Edges</a></li>
<li><a class="reference internal" href="#vertices">Vertices</a></li>
<li><a class="reference internal" href="#face-centers">Face Centers</a></li>
<li><a class="reference internal" href="#face-normals">Face Normals</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="basic_coor.html"
                        title="next chapter">Coordinates and Functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/tutorials/surface_geom/helloworld.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="hello-world">
<span id="helloworld"></span><h1>Hello World<a class="headerlink" href="#hello-world" title="Permalink to this headline">¶</a></h1>
<p>This page covers the basics of creating a surface plot, introducing the concepts of</p>
<ul class="simple">
<li>instantiation of a surface object</li>
<li>adding the surface object to a 3D axes</li>
<li>surface resolution</li>
<li>functional mapping</li>
<li>mesh and scatter plots</li>
</ul>
<div class="section" id="general-concepts">
<span id="gen-concepts"></span><h2>General Concepts<a class="headerlink" href="#general-concepts" title="Permalink to this headline">¶</a></h2>
<p>Throughout this tutorial and all the example plots, the construction and display of
surfaces consist of three basic steps.</p>
<ol class="arabic simple">
<li>Define functions for geometric mapping and coloring the surfaces.</li>
<li>Instantiate surface objects and apply mapping methods.</li>
<li>Setup the Matplotlib figure and axes.</li>
</ol>
<p>For the first step, all functions controlling geometry and color must accept a coordinate argument
of a 3xN Numpy array.  The coordinates are in the relative 3D coordinate system. The ‘relative’ system depends
on the surface which is to be mapped.  These surfaces are in either planar, polar, cylindrical
or spherical coordinates.</p>
<p>In the second step, S3Dlib objects are instantiated.  All surfaces are defined in normalized
coordinates with methods that provide the ability to scale and transform the surface.  Surface
coordinates are now set using the functions defined in the first step. Also, any colors
applied to the surface are made now.</p>
<p>The final step is to use the various tools in Matplotlib to construct and annotate the 3D
figure.  At the end of this step, the surface objects are simply added to an axes3D as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="o">.</span><span class="n">add_collection3D</span><span class="p">(</span><span class="n">surface</span><span class="p">)</span>
</pre></div>
</div>
<p>The addition of the surface to the axes may occur at any step after the axes is created.</p>
</div>
<div class="section" id="default-3d-surface">
<span id="hello-default"></span><h2>Default 3D Surface<a class="headerlink" href="#default-3d-surface" title="Permalink to this headline">¶</a></h2>
<p>The following is the script for producing a default triangulated spherical surface.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">s3dlib.surface</span> <span class="k">as</span> <span class="nn">s3d</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">HELLO WORLD</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c1"># Setup surface ................................................</span>

<span class="n">surface</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">SphericalSurface</span><span class="p">()</span>
<span class="n">surface</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span>

<span class="c1"># Construct figure, add surface, plot ..........................</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figaspect</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>which produces the following plot:</p>
<img alt="../../_images/helloworld.png" src="../../_images/helloworld.png" />
<p>Here, the line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surface</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span>
</pre></div>
</div>
<p>is needed  to visualize the different faces, otherwise all triangular surfaces would be the
same color and only a polygon of uniform color would be recognized.  The line to set the
axis limits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surface</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>is generally always inserted, over-riding the Matplotlib default axis limits.</p>
</div>
<div class="section" id="surface-resolution">
<span id="hello-0"></span><h2>Surface Resolution<a class="headerlink" href="#surface-resolution" title="Permalink to this headline">¶</a></h2>
<p>A surface is a collection of triangles that originate by subdividing the base triangles.
Each base triangle is recursively subdivided into four subtriangles.  The number of
recursions (surface resolution) is controlled by the <em>rez</em>, the first argument of the surface
constructor.  The default rez is 0, as was used in the previous example. This can be be
explicitly assigned as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surface</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">SphericalSurface</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>The following figure shows the progressions
to higher resolutions for the SphericalSurface, from rez=1 to rez=3</p>
<img alt="../../_images/helloworld_0.png" class="sphx-glr-single-img" src="../../_images/helloworld_0.png" />
<p>In general, rez is set to a low value, e.g. 2 or 3, during script development for
responsive graphic interactivity.
Once setup, rez is increased for the desired resolution.  A rez of 4 through 6 is sufficient
for most surface plots.  However, increases to higher rez may be necessary when applying
images, using surface clipping or having interacting surfaces.  This may also be the case for
specific geometric mapping functions which produce large surface curvatures.</p>
</div>
<div class="section" id="geometric-mapping">
<span id="hello-1"></span><h2>Geometric Mapping<a class="headerlink" href="#geometric-mapping" title="Permalink to this headline">¶</a></h2>
<p>As a starting point, consider the
<a class="reference external" href="https://matplotlib.org/gallery/mplot3d/surface3d.html#sphx-glr-gallery-mplot3d-surface3d-py">3D surface</a>
example from the Matplotlib gallery.  When using
S3Dlib, surface coloration and surface geometry are separately applied.  Surface coloration is
discussed in the subsequent tutorial.  For this discussion, the surface color is the default used in
the Matplotlib.</p>
<p>The Matplotlib example is in Cartesian coordinates, so a PlanarSurface object will be used for
this example instead of the SphericalSurface used in the previous example, line 10.
First, the function labeled <em>planarfunc</em> is added to the previous
script.  Then the single highlighted line is added to use this function for mapping the geometry
of the planar surface.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any function definition must operate on coordinate Numpy arrays and return Numpy arrays.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">s3dlib.surface</span> <span class="k">as</span> <span class="nn">s3d</span>

<span class="c1"># 1. Define function to examine ....................................</span>

<span class="k">def</span> <span class="nf">planarfunc</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span> <span class="mf">6.0</span><span class="o">*</span><span class="n">r</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>

<span class="c1"># 2. Setup and map surface .........................................</span>

<span class="n">surface</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="hll"><span class="n">surface</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">planarfunc</span> <span class="p">)</span>
</span><span class="n">surface</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span>

<span class="c1"># 3. Construct figure, add surface plot ............................</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figaspect</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Using a rez of 4 produces the following plot.</p>
<img alt="../../_images/helloworld_21.png" src="../../_images/helloworld_21.png" />
</div>
<div class="section" id="surface-properties">
<span id="hello-2"></span><h2>Surface Properties<a class="headerlink" href="#surface-properties" title="Permalink to this headline">¶</a></h2>
<p>Surfaces have accessible properties</p>
<ul class="simple">
<li>edges</li>
<li>vertices</li>
<li>face centers</li>
<li>face normals</li>
</ul>
<p>Edges and face normals are both added to a plot in the similar method used to add the surface
object, by using the axes <em>add_collection3d</em> method.
Vertices and face centers are coordinate arrays and are added to the figure
using the standard Matplotlib 3D scatter plot method, <em>scatter</em>.</p>
<div class="section" id="edges">
<h3>Edges<a class="headerlink" href="#edges" title="Permalink to this headline">¶</a></h3>
<p>The edges of the triangulated surface are accessible through an <em>edges</em> property of type
<a class="reference external" href="https://matplotlib.org/3.1.1/api/_as_gen/mpl_toolkits.mplot3d.art3d.Line3DCollection.html">Line3DCollection</a>.
As a result, this object can be added directly to the axes in a similar manner as the surface
object. Instead of adding the surface to the axes, add the edges as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
</pre></div>
</div>
<p>with the result of a wireframe plot as shown below.</p>
<img alt="../../_images/hw_wireframe.png" src="../../_images/hw_wireframe.png" />
<p>Since the surface faces are not shown, shading may be omitted.</p>
</div>
<div class="section" id="vertices">
<span id="hello-3"></span><h3>Vertices<a class="headerlink" href="#vertices" title="Permalink to this headline">¶</a></h3>
<p>The vertices of the triangulated surface are accessible through a surface property of
a 3xN coordinate array.
These vertices are displayed by creating a simple scatter plot as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">surface</span><span class="o">.</span><span class="n">vertices</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>to produce the plot as shown below (the surface in now not added to the axes).</p>
<img alt="../../_images/hw_vertices.png" src="../../_images/hw_vertices.png" />
</div>
<div class="section" id="face-centers">
<h3>Face Centers<a class="headerlink" href="#face-centers" title="Permalink to this headline">¶</a></h3>
<p>Like the vertices, face centers are a 3xN coordinate array.
These face centers are displayed using a scatter plot as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">surface</span><span class="o">.</span><span class="n">facecenters</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>to produce a plot as shown below (the surface in now not added to the axes).</p>
<img alt="../../_images/hw_faces.png" src="../../_images/hw_faces.png" />
</div>
<div class="section" id="face-normals">
<h3>Face Normals<a class="headerlink" href="#face-normals" title="Permalink to this headline">¶</a></h3>
<p>Face normals are a Vector3DCollection class which is inherited from the
Line3DCollection class.
As a result of the inheritance, face normals are added to the plot similar to adding the
surface and edges.  The face normals object is accessible from a surface object method.
Each normal in the collection corresponds to a face.</p>
<p>These normals are displayed by calling the method and directly passing the result
to the axes as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span> <span class="n">surface</span><span class="o">.</span><span class="n">facenormals</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
<p>to produce a plot of vectors as shown below (the surface in not added to the axes).
The face normal object properties are
controlled using the method arguments which are detailed in the <a class="reference internal" href="../../guides/vectorfields.html#vectorfields"><span class="std std-ref">Vector Fields</span></a> guide.
In this example, a scaling factor of 0.2 was used.</p>
<img alt="../../_images/hw_normals.png" src="../../_images/hw_normals.png" />
<p>Since normals are associated with each face, a lower rez surface is more applicable for
visualizing the face normals.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="basic_coor.html" title="Coordinates and Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Tutorial"
             >previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >Tutorial</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, frank zaverl.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>