
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Coordinates and Functions &#8212; s3dlibdoc 20.07.23 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/s3dlib.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/s3dliblogo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Color Mapped Surface Normals" href="../surface_color/cmap_normals_tut.html" />
    <link rel="prev" title="Hello World" href="helloworld.html" /> 
  </head><body>

<div style="background-color: white; text-align: left">
        
<a href="../../index.html"><img src="../../_static/s3dliblogo.png"></a>


<nav class="main-nav">
        <ul>
            <li><a href="../../inst_index.html">Installation</a></li>
            <li><a href="../../doc_index.html">Documentation</a></li>
            <li><a href="../index.html">Tutorials</a></li>
            <li><a href="../../examples/index.html">Examples</a></li>
            <li><a href="../../docs/index.html">API</a>&nbsp;</li>
        </ul>
</nav>


</div>







    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../surface_color/cmap_normals_tut.html" title="Color Mapped Surface Normals"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="helloworld.html" title="Hello World"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U">Tutorial</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Coordinates and Functions</a><ul>
<li><a class="reference internal" href="#function-coordinates">Function Coordinates</a><ul>
<li><a class="reference internal" href="#planar">Planar</a></li>
<li><a class="reference internal" href="#polar">Polar</a></li>
<li><a class="reference internal" href="#cylindrical">Cylindrical</a></li>
<li><a class="reference internal" href="#spherical">Spherical</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parametric-functions">Parametric Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="helloworld.html"
                        title="previous chapter">Hello World</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../surface_color/cmap_normals_tut.html"
                        title="next chapter">Color Mapped Surface Normals</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/tutorials/surface_geom/basic_coor.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="coordinates-and-functions">
<span id="basic-coor-tut"></span><h1>Coordinates and Functions<a class="headerlink" href="#coordinates-and-functions" title="Permalink to this headline">¶</a></h1>
<p>There are four basic surface classes, each with a native coordinate system.
These surfaces provide a basic grid of points which can be mapped using functional, image
or data methods.</p>
<p>Mapping for any surface is done in the respective native coordinates:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="42%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class</th>
<th class="head">Native Coordinates</th>
<th class="head">Geometric Shape</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PlanarSurface</td>
<td>x,y,z</td>
<td>square plate</td>
</tr>
<tr class="row-odd"><td>PolarSurface</td>
<td>r, <span class="raw-html">&theta;</span>, z</td>
<td>circular disk</td>
</tr>
<tr class="row-even"><td>CylindricalSurface</td>
<td>r, <span class="raw-html">&theta;</span>, z</td>
<td>cylinder</td>
</tr>
<tr class="row-odd"><td>SphericalSurface</td>
<td>r, <span class="raw-html">&theta; , &phi;</span></td>
<td>sphere</td>
</tr>
</tbody>
</table>
<p>Surfaces are normalized to be contained within an x,y,z cube, with
center at the (0,0,0) and extending from -1 to 1 on each axis.  Scaling can be performed
either through the mapping methods or by a transform class method.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The four surface classes are derived from the same base class and use the same
mapping method names with the same arguments, only differing in the native coordinates
which are used in function definitions.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Arguments passed to user-defined functions and their return values are Numpy arrays.</p>
</div>
<div class="section" id="function-coordinates">
<h2>Function Coordinates<a class="headerlink" href="#function-coordinates" title="Permalink to this headline">¶</a></h2>
<p>In the previous tutorial, the example surface was of type PlanarSurface.  As a result,
the function used to define the surface geometry used x,y,z Cartesian coordinates.
The return value of that function was a point in the same coordinates.
This function was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">planarfunc</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span> <span class="mf">6.0</span><span class="o">*</span><span class="n">r</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>
</pre></div>
</div>
<p>To use polar coordinates, a PolarSurface object is used with a function defined in
polar coordinates as:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">s3dlib.surface</span> <span class="k">as</span> <span class="nn">s3d</span>

<span class="c1"># 1. Define function to examine ....................................</span>

<span class="k">def</span> <span class="nf">polarfunc</span><span class="p">(</span><span class="n">rtz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span> <span class="mf">6.0</span><span class="o">*</span><span class="n">r</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span>

<span class="c1"># 2. Setup and map surface .........................................</span>

<span class="hll"><span class="n">surface</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span><span class="hll"><span class="n">surface</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">polarfunc</span> <span class="p">)</span>
</span><span class="n">surface</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span>

<span class="c1"># 3. Construct figure, add surface, and plot ......................</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figaspect</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>The only changes from the previous example is the use of a PolarSurface, line 14, and to use
the <em>polarfunc</em> function for the mapping operation, line 15.  The resulting plot is:</p>
<img alt="../../_images/hw_polar1.png" src="../../_images/hw_polar1.png" />
<div class="section" id="planar">
<span id="planar-coor-tut"></span><h3>Planar<a class="headerlink" href="#planar" title="Permalink to this headline">¶</a></h3>
<p>The coordinate system for the PlanarSurface object is shown below. The
initial surface coordinates before mapping all have z=0.</p>
<img alt="../../_images/tut_plate.png" class="sphx-glr-single-img" src="../../_images/tut_plate.png" />
<p>For a PlanarSurface, the geometric mapping function will have the form:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># planar function</span>
<span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="c1"># arg value passed is z = 0</span>
    <span class="c1"># define function here:  X,Y,Z = f(x,y)</span>
    <span class="k">return</span> <span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span>
</pre></div>
</div>
</div>
<div class="section" id="polar">
<span id="polar-coor-tut"></span><h3>Polar<a class="headerlink" href="#polar" title="Permalink to this headline">¶</a></h3>
<p>The coordinate system for the PolarSurface object is shown below. The
initial surface coordinates before mapping all have z=0 with
the radial coordinate domain <span class="raw-html">0 &le; r &le; 1</span>.</p>
<img alt="../../_images/tut_disk.png" class="sphx-glr-single-img" src="../../_images/tut_disk.png" />
<p>For a PolarSurface, the geometric mapping function will have the form:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># polar coordinate function</span>
<span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="n">rtz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
    <span class="c1"># arg value passed is z = 0</span>
    <span class="c1"># define function here:  R,T,Z = f(r,t)</span>
    <span class="k">return</span> <span class="n">R</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">Z</span>
</pre></div>
</div>
</div>
<div class="section" id="cylindrical">
<span id="cylindrical-coor-tut"></span><h3>Cylindrical<a class="headerlink" href="#cylindrical" title="Permalink to this headline">¶</a></h3>
<p>The coordinate system for the CylindricalSurface object is shown below. The
initial surface coordinates before mapping all have r = 1 with
the angular coordinate domain <span class="raw-html">0 &le; &theta; &lt; 2&pi;</span> and the vertical
domain <span class="raw-html">0 &le; z &le; 1</span>.</p>
<img alt="../../_images/tut_cylinder.png" class="sphx-glr-single-img" src="../../_images/tut_cylinder.png" />
<p>For a CylindricalSurface, the geometric mapping function will have the form:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># cylindrical coordinate function</span>
<span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="n">rtz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
    <span class="c1"># arg value passed is r = 1</span>
    <span class="c1"># define function here:  R,T,Z = f(t,z)</span>
    <span class="k">return</span> <span class="n">R</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">Z</span>
</pre></div>
</div>
</div>
<div class="section" id="spherical">
<span id="spherical-coor-tut"></span><h3>Spherical<a class="headerlink" href="#spherical" title="Permalink to this headline">¶</a></h3>
<p>The coordinate system for the SphericalSurface object is shown below. The
initial surface coordinates before mapping all have r = 1 with
the angular coordinate domain <span class="raw-html">0 &le; &theta; &lt; 2&pi;</span> and the vertical
domain <span class="raw-html">0 &le; &phi; &le; &pi;</span>.</p>
<img alt="../../_images/tut_sphere.png" class="sphx-glr-single-img" src="../../_images/tut_sphere.png" />
<p>For a SphericalSurface, the geometric mapping function will have the form:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># spherical coordinate function</span>
<span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="n">rtp</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">p</span> <span class="o">=</span> <span class="n">rtp</span>
    <span class="c1"># arg value passed is r = 1</span>
    <span class="c1"># define function here:  R,T,P = f(t,p)</span>
    <span class="k">return</span> <span class="n">R</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">P</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="parametric-functions">
<h2>Parametric Functions<a class="headerlink" href="#parametric-functions" title="Permalink to this headline">¶</a></h2>
<p>To exemplify plotting parametric functions, first consider a 2D line plot of
a simple power function based on the
<a class="reference external" href="https://matplotlib.org/tutorials/introductory/usage.html#the-object-oriented-interface-and-the-pyplot-interface">Simple Plot</a>
example from matplotlib.</p>
<img alt="../../_images/tut_simple_plot.png" class="sphx-glr-single-img" src="../../_images/tut_simple_plot.png" />
<p>Write the script in a three step process: define the function, create the ‘pseudo’ line objects, ‘add’ the lines
to the plot axis.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># 1. Define function to examine ...............</span>

<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="n">n</span>
    <span class="k">return</span> <span class="n">y</span>

<span class="c1"># 2. Setup and map line .......................</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">y1</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">y3</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># 3. Construct figure, add line, and plot .....</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Y = f(X,n)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Y = $\ X^n$&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;n = 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;n = 2&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;n = 3&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>For 3D surfaces, use an analogous function definition:  the first argument is a coordinate location, the second
argument is the function parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># function with arg parameter</span>
<span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="n">abc</span><span class="p">,</span><span class="n">arg</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">abc</span>
    <span class="c1"># define function, dependent on surface class, here:</span>
    <span class="c1">#    planar/polar:            A,B,C = f(a,b,arg)</span>
    <span class="c1">#    cylindrical/spherical:   A,B,C = f(b,c,arg)</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span>
</pre></div>
</div>
<p>So, to plot a parametric function of the previous 3D example using the three step process:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="k">as</span> <span class="nn">mpatches</span>
<span class="kn">import</span> <span class="nn">s3dlib.surface</span> <span class="k">as</span> <span class="nn">s3d</span>

<span class="c1"># 1. Define function to examine ....................................</span>
<span class="hll">
</span><span class="k">def</span> <span class="nf">planarfunc</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">N</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Z</span> <span class="o">=</span> <span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">6</span><span class="o">*</span><span class="n">r</span><span class="p">)</span> <span class="o">+</span> <span class="n">N</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>

<span class="c1"># 2. Setup and map surface .........................................</span>

<span class="hll"><span class="n">y1</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C0&#39;</span> <span class="p">)</span>
</span><span class="n">y1</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">planarfunc</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">)</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span>
<span class="hll"><span class="n">y2</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span> <span class="p">)</span>
</span><span class="n">y2</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">planarfunc</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">)</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span>
<span class="hll"><span class="n">y3</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C2&#39;</span><span class="p">)</span>
</span><span class="n">y3</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">planarfunc</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">)</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span>

<span class="c1"># 3. Construct figure, add surface, and plot ......................</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figaspect</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">minmax</span><span class="p">,</span> <span class="n">ticks</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.2</span><span class="p">),</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="n">minmax</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="n">minmax</span><span class="p">,</span> <span class="n">zlim</span><span class="o">=</span><span class="n">minmax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="n">ticks</span> <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span> <span class="n">ticks</span> <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zticks</span><span class="p">(</span> <span class="n">ticks</span> <span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">&#39;Z = f(X,Y,N)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span> <span class="sa">r</span><span class="s1">&#39;Z =  $\frac</span><span class="si">{1}{2}</span><span class="s1"> [ sin(6r) +  N ] - 1 $&#39;</span><span class="o">+</span>
              <span class="sa">r</span><span class="s1">&#39;   $\mathit</span><span class="si">{where}</span><span class="s1">\  r = \left( X^2 + Y^2 \right)^\frac</span><span class="si">{1}{2}</span><span class="s1"> $&#39;</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="p">)</span>

<span class="n">C0_patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;C0&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;N = 1&#39;</span><span class="p">)</span>
<span class="n">C1_patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;N = 2&#39;</span><span class="p">)</span>
<span class="n">C2_patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;N = 3&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">C0_patch</span><span class="p">,</span><span class="n">C1_patch</span><span class="p">,</span><span class="n">C2_patch</span><span class="p">])</span>

<span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span> <span class="n">y1</span> <span class="o">+</span> <span class="n">y2</span> <span class="o">+</span> <span class="n">y3</span> <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Which produces:</p>
<img alt="../../_images/tut_parametric_3D.png" class="sphx-glr-single-img" src="../../_images/tut_parametric_3D.png" />
<p>This example demonstrates the object-oriented approach to 3D surface plotting.  In Matplotlib, the
axis is an object.  With S3Dlib, surfaces are also considered objects and can be operated on
separately from the axis object.  In this example, one surface object was created from three
surface objects through simple addition.  Then, that single surface object was added to the axis object.</p>
<p>This method of using a parametric function is demonstrated in numerous <a class="reference internal" href="../../examples/index.html#example"><span class="std std-ref">Examples</span></a>.
The <a class="reference internal" href="../../examples/composite/dipole.html#dipole"><span class="std std-ref">Parametric Set of Surfaces</span></a> example uses multiple surfaces on a single 3D axis.  The <a class="reference internal" href="../../examples/functional/param_set.html#param-set"><span class="std std-ref">Parametric Set</span></a> example
plots each surface on an individual 3D axis.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../surface_color/cmap_normals_tut.html" title="Color Mapped Surface Normals"
             >next</a> |</li>
        <li class="right" >
          <a href="helloworld.html" title="Hello World"
             >previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >Tutorial</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, frank zaverl.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>