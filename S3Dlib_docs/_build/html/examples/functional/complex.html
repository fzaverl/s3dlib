
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Complex Number Representation, Geometry and Colormap &#8212; s3dlibdoc 20.07.23 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/s3dlib.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/s3dliblogo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Complex Number Representation, Hue and Value" href="complex_hsv.html" />
    <link rel="prev" title="Two methods of Representing f(θ , φ)" href="sph_harm.html" /> 
  </head><body>

<div style="background-color: white; text-align: left">
        
<a href="../../index.html"><img src="../../_static/s3dliblogo.png"></a>


<nav class="main-nav">
        <ul>
            <li><a href="../../inst_index.html">Installation</a></li>
            <li><a href="../../doc_index.html">Documentation</a></li>
            <li><a href="../../tutorials/index.html">Tutorials</a></li>
            <li><a href="../index.html">Examples</a></li>
            <li><a href="../../docs/index.html">API</a>&nbsp;</li>
        </ul>
</nav>


</div>







    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="complex_hsv.html" title="Complex Number Representation, Hue and Value"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sph_harm.html" title="Two methods of Representing f(θ , φ)"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U">Examples</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Complex Number Representation, Geometry and Colormap</a><ul>
<li><a class="reference internal" href="#polar-coordinates">Polar Coordinates</a></li>
<li><a class="reference internal" href="#planar-coordinates">Planar Coordinates</a></li>
<li><a class="reference internal" href="#polar-returning-planar">Polar returning Planar</a></li>
<li><a class="reference internal" href="#cylindrical-coordinates">Cylindrical Coordinates</a></li>
<li><a class="reference internal" href="#alternative-representations">Alternative Representations</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="sph_harm.html"
                        title="previous chapter">Two methods of Representing <span class="raw-html">f(&theta; , &phi;)</span></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="complex_hsv.html"
                        title="next chapter">Complex Number Representation, Hue and Value</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/examples/functional/complex.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="complex-number-representation-geometry-and-colormap">
<span id="complex"></span><h1>Complex Number Representation, Geometry and Colormap<a class="headerlink" href="#complex-number-representation-geometry-and-colormap" title="Permalink to this headline">¶</a></h1>
<div class="section" id="polar-coordinates">
<h2>Polar Coordinates<a class="headerlink" href="#polar-coordinates" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/complex.png" class="sphx-glr-single-img" src="../../_images/complex.png" />
<p>In this example, both functions are expressed in the native polar coordinates, z =
<span class="raw-html">f(r,&theta;)</span>.
For the square root function, the real component is geometrically visualized
whereas the imaginary component is expressed as color.  The square function in
the right plot expresses both real and imaginary components geometrically with
two surfaces combined as one.  Each function uses the <em>isReal</em> argument to
indicate whether the real or imaginary component is returned.</p>
<p>In polar coordinates, the domain for the angular coordinate is
<span class="raw-html">0 &le; &theta; &le; 2&pi;</span>.
The domain for the square root function is
<span class="raw-html">0 &le; &theta; &le; 4&pi;</span>,
hence the need for the highlighted statement in the following
code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="k">as</span> <span class="nn">mpatches</span>
<span class="kn">import</span> <span class="nn">matplotlib.lines</span> <span class="k">as</span> <span class="nn">mlines</span>
<span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="kn">import</span> <span class="n">LinearLocator</span><span class="p">,</span> <span class="n">FormatStrFormatter</span>
<span class="kn">import</span> <span class="nn">s3dlib.surface</span> <span class="k">as</span> <span class="nn">s3d</span>
<span class="kn">import</span> <span class="nn">s3dlib.cmap_utilities</span> <span class="k">as</span> <span class="nn">cmu</span>

<span class="c1">#.. Complex Number Representation, Geometry and Colormap: Polar Coordinates</span>

<span class="c1"># 1. Define functions to examine ....................................</span>

<span class="n">real</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">imaginary</span> <span class="o">=</span>  <span class="ow">not</span> <span class="n">real</span>

<span class="k">def</span> <span class="nf">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span> <span class="n">isReal</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
<span class="hll">    <span class="n">T</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span>
</span>    <span class="k">if</span> <span class="n">isReal</span> <span class="p">:</span>  <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">T</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">else</span> <span class="p">:</span>       <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">T</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">Z</span>
    
<span class="k">def</span> <span class="nf">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span> <span class="n">isReal</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
    <span class="k">if</span> <span class="n">isReal</span> <span class="p">:</span> <span class="n">Z</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
    <span class="k">else</span> <span class="p">:</span>      <span class="n">Z</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">Z</span>

<span class="c1"># 2. Setup and map surfaces .........................................</span>

<span class="n">zMap</span> <span class="o">=</span> <span class="n">cmu</span><span class="o">.</span><span class="n">hsv_cmap_gradient</span><span class="p">(</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>

<span class="n">surface_1</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">zMap</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">surface_1</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span>
<span class="n">surface_1</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">real</span><span class="p">)</span> <span class="p">)</span>
<span class="n">surface_1</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="n">surface_I</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">surface_I</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)</span> <span class="p">)</span>
<span class="n">surface_R</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">surface_R</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">real</span><span class="p">)</span> <span class="p">)</span>

<span class="n">surface_2</span> <span class="o">=</span> <span class="n">surface_I</span> <span class="o">+</span> <span class="n">surface_R</span>
<span class="n">surface_2</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># 3. Construct figure, add surfaces, and plot .....................</span>

<span class="n">fcc</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;     f: $\mathrm{\mathbb</span><span class="si">{C}</span><span class="s1">}$ $\to$  $\mathrm{\mathbb</span><span class="si">{C}</span><span class="s1">}$&#39;</span> <span class="o">+</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
<span class="n">minmax</span><span class="p">,</span> <span class="n">ticks</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">,</span>  <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figaspect</span><span class="p">(</span><span class="mf">0.6</span><span class="o">/</span><span class="mf">1.2</span><span class="p">))</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">205</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="n">minmax</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="n">minmax</span><span class="p">,</span> <span class="n">zlim</span><span class="o">=</span><span class="n">minmax</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_zticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X axis&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y axis&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span> <span class="sa">r</span><span class="s1">&#39;f(z) = $\sqrt</span><span class="si">{z}</span><span class="s1">$&#39;</span> <span class="o">+</span> <span class="n">fcc</span> <span class="p">)</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">surface_1</span><span class="o">.</span><span class="n">cBar_ScalarMappable</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span>  <span class="n">shrink</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">pad</span><span class="o">=-.</span><span class="mi">05</span> <span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Imaginary&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span> <span class="n">labelpad</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%5.2f</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="n">real_handle</span> <span class="o">=</span> <span class="n">mlines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">([],</span> <span class="p">[],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
                          <span class="n">markersize</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Real&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">real_handle</span><span class="p">])</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="n">minmax</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="n">minmax</span><span class="p">,</span> <span class="n">zlim</span><span class="o">=</span><span class="n">minmax</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_zticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X axis&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y axis&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span> <span class="sa">r</span><span class="s1">&#39;f(z) =  $z^2$&#39;</span> <span class="o">+</span> <span class="n">fcc</span> <span class="p">)</span>
<span class="n">red_patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Img&#39;</span><span class="p">)</span>
<span class="n">blue_patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Real&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">red_patch</span><span class="p">,</span><span class="n">blue_patch</span><span class="p">])</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface_1</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface_2</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="planar-coordinates">
<span id="complex-planar"></span><h2>Planar Coordinates<a class="headerlink" href="#planar-coordinates" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/complex_2.png" class="sphx-glr-single-img" src="../../_images/complex_2.png" />
<p>In this example, both functions are expressed in the planar coordinates, z = f(x,y).
As a result, the function definitions for this case are in x,y coordinates.</p>
<p>From de Moivre’s formula, there is a positive and negative solution for
the square root.  Each solution requires a separate surface and therefore
two surfaces, positive and negative, were combined for the square root function.
The <em>isPos</em> argument sets whether the positive or negative surface
coordinates are returned from the function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Define functions to examine ....................................</span>

<span class="n">real</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">imaginary</span> <span class="o">=</span>  <span class="ow">not</span> <span class="n">real</span>

<span class="hll"><span class="k">def</span> <span class="nf">sqrt_Z</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">isReal</span><span class="p">,</span> <span class="n">isPos</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="p">:</span>
</span><span class="hll">    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
</span><span class="hll">    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span> <span class="p">)</span>
</span><span class="hll">    <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">isReal</span> <span class="p">:</span>  <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
</span><span class="hll">    <span class="k">else</span> <span class="p">:</span>       <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
</span><span class="hll">    <span class="k">if</span> <span class="ow">not</span> <span class="n">isPos</span> <span class="p">:</span> <span class="n">Z</span> <span class="o">=</span> <span class="o">-</span><span class="n">Z</span> 
</span><span class="hll">    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>
</span>
<span class="hll"><span class="k">def</span> <span class="nf">square_Z</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">isReal</span><span class="p">)</span> <span class="p">:</span>
</span><span class="hll">    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">isReal</span> <span class="p">:</span> <span class="n">Z</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span>
</span><span class="hll">    <span class="k">else</span> <span class="p">:</span>      <span class="n">Z</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>
</span>
<span class="c1"># 2. Setup and map surfaces .........................................</span>

<span class="n">zMap</span> <span class="o">=</span> <span class="n">cmu</span><span class="o">.</span><span class="n">hsv_cmap_gradient</span><span class="p">(</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>

<span class="hll"><span class="n">surface_1pos</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;oct1&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">zMap</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span class="n">surface_1pos</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span>
<span class="n">surface_1pos</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">real</span><span class="p">)</span> <span class="p">)</span>

<span class="hll"><span class="n">surface_1neg</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;oct1&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">zMap</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span class="n">surface_1neg</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">,</span><span class="kc">False</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span>
<span class="n">surface_1neg</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">real</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span> <span class="p">)</span>

<span class="hll"><span class="n">surface_1</span> <span class="o">=</span> <span class="n">surface_1pos</span> <span class="o">+</span> <span class="n">surface_1neg</span>
</span><span class="n">surface_1</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">surface_1</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="hll"><span class="n">surface_I</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</span><span class="n">surface_I</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)</span> <span class="p">)</span>
<span class="hll"><span class="n">surface_R</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</span><span class="n">surface_R</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">xyz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">real</span><span class="p">)</span> <span class="p">)</span>

<span class="n">surface_2</span> <span class="o">=</span> <span class="n">surface_I</span> <span class="o">+</span> <span class="n">surface_R</span>
<span class="n">surface_2</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

</pre></div>
</div>
</div>
<div class="section" id="polar-returning-planar">
<h2>Polar returning Planar<a class="headerlink" href="#polar-returning-planar" title="Permalink to this headline">¶</a></h2>
<p>For functions in one coordinate system, but return coordinates
in planar coordinates, the geometric mapping can return xyz
coordinates using the <em>returnxyz</em> argument instead of native
coordinates.  When this is the case, the function must
evaluate all x, y, and z coordinates.  For this example</p>
<div class="line-block">
<div class="line"><span class="raw-html">x = g(r,&theta;)</span></div>
<div class="line"><span class="raw-html">y = h(r,&theta;)</span></div>
<div class="line"><span class="raw-html">z = f(r,&theta;)</span></div>
</div>
<p>Although not needed in the current example, this
can easily be done by slightly modifying the functional
operations, as shown in the highlighted code below.
The  <a class="reference internal" href="dini.html#dini"><span class="std std-ref">Polar Coordinates to XYZ</span></a> for the Dini surface is a good
example where returning x,y,z coordinates is applicable.</p>
<p>Using the following code, the resulting plots will be identical to those shown in
the first example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Define functions to examine ....................................</span>

<span class="n">real</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">imaginary</span> <span class="o">=</span>  <span class="ow">not</span> <span class="n">real</span>

<span class="k">def</span> <span class="nf">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span> <span class="n">isReal</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
    <span class="n">T</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span>
    <span class="k">if</span> <span class="n">isReal</span> <span class="p">:</span>  <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">T</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">else</span> <span class="p">:</span>       <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">T</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="hll">    <span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</span><span class="hll">    <span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>
</span>    
<span class="k">def</span> <span class="nf">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span> <span class="n">isReal</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
    <span class="k">if</span> <span class="n">isReal</span> <span class="p">:</span> <span class="n">Z</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
    <span class="k">else</span> <span class="p">:</span>      <span class="n">Z</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="hll">    <span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span><span class="hll">    <span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">Z</span>
</span>
<span class="c1"># 2. Setup and map surfaces .........................................</span>

<span class="n">zMap</span> <span class="o">=</span> <span class="n">cmu</span><span class="o">.</span><span class="n">hsv_cmap_gradient</span><span class="p">(</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>

<span class="hll"><span class="n">surface_1</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">zMap</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span class="n">surface_1</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span>
<span class="hll"><span class="n">surface_1</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">real</span><span class="p">),</span> <span class="n">returnxyz</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</span><span class="n">surface_1</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="hll"><span class="n">surface_I</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">surface_I</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">),</span> <span class="n">returnxyz</span><span class="o">=</span><span class="kc">True</span>  <span class="p">)</span>
</span><span class="hll"><span class="n">surface_R</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">surface_R</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">real</span><span class="p">),</span> <span class="n">returnxyz</span><span class="o">=</span><span class="kc">True</span>  <span class="p">)</span>
</span>
<span class="n">surface_2</span> <span class="o">=</span> <span class="n">surface_I</span> <span class="o">+</span> <span class="n">surface_R</span>
<span class="n">surface_2</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

</pre></div>
</div>
</div>
<div class="section" id="cylindrical-coordinates">
<h2>Cylindrical Coordinates<a class="headerlink" href="#cylindrical-coordinates" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/complex_3.png" class="sphx-glr-single-img" src="../../_images/complex_3.png" />
<p>In cylindrical coordinates,
( <span class="raw-html">r,&theta;,z</span> )
, there are two independent variables,
<span class="raw-html">&theta; and z</span>, for the CylindricalSurface object.
The predefined surface object uses a constant radial coordinate for
this geometry with r = 1 and
<span class="raw-html">-1 &le; Z &le; 1</span>.
To apply the cylindrical surface to polar coordinates, use a simple
linear tranformation for <span class="raw-html">0 &le; r &le; 1</span>, as</p>
<div class="line-block">
<div class="line"><span class="raw-html">r =  &half; ( 1 - z )</span>.</div>
</div>
<p>where now the function for z can be expressed in terms of r
and <span class="raw-html">&theta;</span>.
The r(z) linear function has a negative slope so that the surface
normals have a positve upward direction on the polar surface.</p>
<p>Compared to the polar coordinate plot, only a minor change was
needed in the function definitions. The only
noticeable difference in polar versus the cylindrical surface
is the minor resolution change in the square root plot.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This example is for demonstration purposes and cylindrical coordinates
are not convenient to use for such a simple case.  However, it does
demonstrate using a base surface coordinate with a range (in this case z)
as a substitute for a coordinate which is constant (in this case r).
When applied in this manner, coordinate transformations are necessary.</p>
<p class="last">The selection of using various base objects by considering the distribution
of vertices in the native coordinates is further discussed in
the <a class="reference internal" href="../../guides/base_surfaces.html#base-selection"><span class="std std-ref">Selecting a Base</span></a> guide.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Define functions to examine ....................................</span>

<span class="n">real</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">imaginary</span> <span class="o">=</span>  <span class="ow">not</span> <span class="n">real</span>

<span class="k">def</span> <span class="nf">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span> <span class="n">isReal</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
<span class="hll">    <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span>    <span class="n">T</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span>
    <span class="k">if</span> <span class="n">isReal</span> <span class="p">:</span>  <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">T</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">else</span> <span class="p">:</span>       <span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">T</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">Z</span>
    
<span class="k">def</span> <span class="nf">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span> <span class="n">isReal</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
<span class="hll">    <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span>    <span class="k">if</span> <span class="n">isReal</span> <span class="p">:</span> <span class="n">Z</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
    <span class="k">else</span> <span class="p">:</span>      <span class="n">Z</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">Z</span>

<span class="c1"># 2. Setup and map surfaces .........................................</span>

<span class="n">zMap</span> <span class="o">=</span> <span class="n">cmu</span><span class="o">.</span><span class="n">hsv_cmap_gradient</span><span class="p">(</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>

<span class="hll"><span class="n">surface_1</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">CylindricalSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">zMap</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span class="n">surface_1</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span>
<span class="n">surface_1</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">real</span><span class="p">)</span> <span class="p">)</span>
<span class="n">surface_1</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="hll"><span class="n">surface_I</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">CylindricalSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</span><span class="n">surface_I</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)</span> <span class="p">)</span>
<span class="n">surface_R</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">CylindricalSurface</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">surface_R</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">real</span><span class="p">)</span> <span class="p">)</span>

<span class="n">surface_2</span> <span class="o">=</span> <span class="n">surface_I</span> <span class="o">+</span> <span class="n">surface_R</span>
<span class="n">surface_2</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

</pre></div>
</div>
</div>
<div class="section" id="alternative-representations">
<h2>Alternative Representations<a class="headerlink" href="#alternative-representations" title="Permalink to this headline">¶</a></h2>
<p>The two complex functions in this example have used two
different representations.  That being combining real and imaginary components
into one color mapped surface, or representing the two components
as two surfaces.  These representation may be used for either function,
as shown below by switching the representations.</p>
<img alt="../../_images/complex_4.png" class="sphx-glr-single-img" src="../../_images/complex_4.png" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2. Setup and map surfaces .........................................</span>

<span class="n">zMap</span> <span class="o">=</span> <span class="n">cmu</span><span class="o">.</span><span class="n">hsv_cmap_gradient</span><span class="p">(</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>

<span class="n">surface1_I</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;squ&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">surface1_I</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)</span> <span class="p">)</span>
<span class="n">surface1_R</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;squ&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">surface1_R</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">sqrt_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">real</span><span class="p">)</span> <span class="p">)</span>
<span class="n">surface_1</span> <span class="o">=</span> <span class="p">(</span><span class="n">surface1_I</span> <span class="o">+</span> <span class="n">surface1_R</span><span class="p">)</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="n">surface_2</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">zMap</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">surface_2</span><span class="o">.</span><span class="n">map_cmap_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">imaginary</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span>
<span class="n">surface_2</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">rtz</span> <span class="p">:</span> <span class="n">square_Z</span><span class="p">(</span><span class="n">rtz</span><span class="p">,</span><span class="n">real</span><span class="p">)</span> <span class="p">)</span>
<span class="n">surface_2</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="complex_hsv.html" title="Complex Number Representation, Hue and Value"
             >next</a> |</li>
        <li class="right" >
          <a href="sph_harm.html" title="Two methods of Representing f(θ , φ)"
             >previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >Examples</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, frank zaverl.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>