
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Base Surfaces &#8212; s3dlibdoc 20.07.23 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/s3dlib.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/s3dliblogo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Color Map Utilities" href="color_maps.html" />
    <link rel="prev" title="Guides" href="index.html" /> 
  </head><body>

<div style="background-color: white; text-align: left">
        
<a href="../index.html"><img src="../_static/s3dliblogo.png"></a>


<nav class="main-nav">
        <ul>
            <li><a href="../inst_index.html">Installation</a></li>
            <li><a href="../doc_index.html">Documentation</a></li>
            <li><a href="../tutorials/index.html">Tutorials</a></li>
            <li><a href="../examples/index.html">Examples</a></li>
            <li><a href="../docs/index.html">API</a>&nbsp;</li>
        </ul>
</nav>


</div>







    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="color_maps.html" title="Color Map Utilities"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Guides"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Guides</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Base Surfaces</a><ul>
<li><a class="reference internal" href="#general-geometries">General Geometries</a><ul>
<li><a class="reference internal" href="#planar-surface">Planar Surface</a></li>
<li><a class="reference internal" href="#polar-surface">Polar Surface</a></li>
<li><a class="reference internal" href="#cylindrical-surface">Cylindrical Surface</a></li>
<li><a class="reference internal" href="#spherical-surface">Spherical Surface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#split-geometries">Split Geometries</a><ul>
<li><a class="reference internal" href="#id2">Polar Surface</a></li>
<li><a class="reference internal" href="#id3">Cylindrical Surface</a></li>
<li><a class="reference internal" href="#id4">Spherical Surface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#selecting-a-base">Selecting a Base</a><ul>
<li><a class="reference internal" href="#planar-klein-bottle">Planar Klein Bottle</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Guides</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="color_maps.html"
                        title="next chapter">Color Map Utilities</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/guides/base_surfaces.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="base-surfaces">
<span id="id1"></span><h1>Base Surfaces<a class="headerlink" href="#base-surfaces" title="Permalink to this headline">¶</a></h1>
<p>The grid structure for the four surface classes are developed from sets of base surface
geometries.  These base surfaces are composed of a grid of connected triangles.
All grid surfaces are normalized and centered in a cube in the domain of -1 to 1.
The constructors of a xxxxxSurface class have two arguments controlling
the grid; <em>rez</em> and <em>basetype</em>.  ( xxxxxSurface represents either PlanarSurface,
PolarSurface, CylindricalSurface, or SphericalSurface class names).  A <em>surface</em>
object is constructed as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surface</span> <span class="o">=</span> <span class="n">xxxxxSurface</span><span class="p">(</span><span class="n">rez</span><span class="p">,</span><span class="n">basetype</span><span class="p">)</span>
</pre></div>
</div>
<p>The surfaces are generated by recursively subdividing the base surfaces triangles into
four smaller triangles controlled by the <em>rez</em> argument.
As a result, the number of triangular surfaces for a surface object is <span class="raw-html">4<sup>rez</sup></span>
times the number of faces of the basetype.  This argument is an
integer ranging from 0, no subdivisions, to 7 with a default value of 0.  The <em>basetype</em>
argument is a string, the label for one of the class’s basetypes.  The basetypes
and corresponding default values
for each class are described in the following sections of this tutorial.</p>
<p>The number of faces, edges and vertices for a xxxxxSurface can be determined from
the class method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">values</span> <span class="o">=</span> <span class="n">xxxxxSurface</span><span class="o">.</span><span class="n">fev</span><span class="p">(</span><span class="n">rez</span><span class="p">,</span><span class="n">basetype</span><span class="p">)</span>
</pre></div>
</div>
<p>which returns a 3D array of integers corresponding to these <em>values</em> for
a xxxxxSurface of <em>rez</em> and <em>basetype</em>.  If no arguments are given, defaults are used.
In addition, the <em>surface</em> object string representation, <em>str(surface)</em>, contains the
class name, rez, basetype, number of faces and number of vertices.</p>
<div class="section" id="general-geometries">
<h2>General Geometries<a class="headerlink" href="#general-geometries" title="Permalink to this headline">¶</a></h2>
<p>Each surface class has several basetypes which can be used to construct the surface object.
In this section, all surface objects were generated with a default <em>rez</em> of 0 using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surface</span> <span class="o">=</span> <span class="n">xxxxxSurface</span><span class="p">(</span><span class="n">basetype</span><span class="p">)</span>
</pre></div>
</div>
<p>For any surface class, any basetype will produce similar geometries.
However, a specific type may have axial or planar symetries which may be applicable
to a specific function used for mapping.
These symetries can also be adjusted using the object <em>transform</em> method before functional mapping.
Selecting a specific basetype can also be particulary beneficial when several overlapping surfaces
are combined to form a final surface geometry, or when surface clipping is applied.</p>
<div class="section" id="planar-surface">
<h3>Planar Surface<a class="headerlink" href="#planar-surface" title="Permalink to this headline">¶</a></h3>
<p>The default basetype for PlanarSurfaces is <em>quad</em>.  Both the <em>oct1</em> and <em>oct2</em> will have
vertices along the x and y axis. At the origin, <em>oct2</em> has eight neighboring faces, whereas <em>oct1</em> has four.
The <em>quad</em> will have vertices along <span class="raw-html">|x|=|y|</span>, but have faces that will cross the axis.
With increasing values of <em>rez</em>, planar surfaces are subdivided into smaller triangles and maintain
the square plate shape.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="26%" />
<col width="25%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coordinate system</td>
<td><a class="reference internal" href="../tutorials/surface_geom/basic_coor.html#planar-coor-tut"><span class="std std-ref">Planar</span></a></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>default basetype</td>
<td><strong>quad</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>vertex domain</td>
<td><span class="raw-html">-1 &le; x &le; 1</span></td>
<td><span class="raw-html">-1 &le; y &le; 1</span></td>
<td><span class="raw-html">z &equals; 0</span></td>
</tr>
</tbody>
</table>
<img alt="../_images/base_planar.png" class="sphx-glr-single-img" src="../_images/base_planar.png" />
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">basetype</th>
<th class="head">faces</th>
<th class="head">edges</th>
<th class="head">vertices</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>quad</td>
<td>4</td>
<td>8</td>
<td>5</td>
</tr>
<tr class="row-odd"><td>oct1</td>
<td>8</td>
<td>16</td>
<td>9</td>
</tr>
<tr class="row-even"><td>oct2</td>
<td>8</td>
<td>16</td>
<td>9</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="polar-surface">
<h3>Polar Surface<a class="headerlink" href="#polar-surface" title="Permalink to this headline">¶</a></h3>
<p>The default basetype for PolarSurfaces is <em>hex</em>.  The two basetypes of <em>squ</em> and <em>hex</em> have 4 and 6 fold symetry about the z-axis, respectively.
With increasing <em>rez</em>, triangles are subdivided to expand the grid to approximate a circular disk of unit radius.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="26%" />
<col width="25%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coordinate system</td>
<td><a class="reference internal" href="../tutorials/surface_geom/basic_coor.html#polar-coor-tut"><span class="std std-ref">Polar</span></a></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>default basetype</td>
<td><strong>hex</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>vertex domain</td>
<td><span class="raw-html">0 &le; r &le; 1</span></td>
<td><span class="raw-html">0 &le; &theta; &lt; 2&pi;</span></td>
<td><span class="raw-html">z &equals; 0</span></td>
</tr>
</tbody>
</table>
<img alt="../_images/base_polar.png" class="sphx-glr-single-img" src="../_images/base_polar.png" />
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">basetype</th>
<th class="head">faces</th>
<th class="head">edges</th>
<th class="head">vertices</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>squ</td>
<td>4</td>
<td>8</td>
<td>5</td>
</tr>
<tr class="row-odd"><td>hex</td>
<td>6</td>
<td>12</td>
<td>7</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cylindrical-surface">
<h3>Cylindrical Surface<a class="headerlink" href="#cylindrical-surface" title="Permalink to this headline">¶</a></h3>
<p>The default basetype for CylindricalSurfaces is <em>tri</em>.  These base surfaces have 3 and 4 fold symetry about the z-axis.
Although the <em>tri2</em> and <em>squ2</em> basetypes have elongated triangular faces in the vertical direction, this basetype has vertices at the x and y axis
without faces crossing these axis.
With increasing <em>rez</em>, triangles are subdivided to expand the grid to approximate a circular cylinder of unit radius and length 2.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="26%" />
<col width="25%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coordinate system</td>
<td><a class="reference internal" href="../tutorials/surface_geom/basic_coor.html#cylindrical-coor-tut"><span class="std std-ref">Cylindrical</span></a></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>default basetype</td>
<td><strong>tri</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>vertex domain</td>
<td><span class="raw-html">r &equals; 1</span></td>
<td><span class="raw-html">0 &le; &theta; &lt; 2&pi;</span></td>
<td><span class="raw-html">-1 &le; z &le; 1</span></td>
</tr>
</tbody>
</table>
<img alt="../_images/base_cylindrical.png" class="sphx-glr-single-img" src="../_images/base_cylindrical.png" />
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">basetype</th>
<th class="head">faces</th>
<th class="head">edges</th>
<th class="head">vertices</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tri</td>
<td>12</td>
<td>21</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>squ</td>
<td>16</td>
<td>28</td>
<td>12</td>
</tr>
<tr class="row-even"><td>tri2</td>
<td>12</td>
<td>21</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>squ2</td>
<td>16</td>
<td>28</td>
<td>12</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="spherical-surface">
<h3>Spherical Surface<a class="headerlink" href="#spherical-surface" title="Permalink to this headline">¶</a></h3>
<p>The default basetype for SphericalSurfaces is <em>icosa</em>. All basetypes are based on the five Platonic solids.
The <em>cube</em> basetype is a cube with the cubic faces subdivided into 4 triangles.  The
<em>dodeca</em> basetype is a dodecahedron with the pentagon faces subdivided into 5 triangles.
With increasing <em>rez</em>, triangles are subdivided to expand the grid to approximate a sphere of unit radius.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="26%" />
<col width="25%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coordinate system</td>
<td><a class="reference internal" href="../tutorials/surface_geom/basic_coor.html#spherical-coor-tut"><span class="std std-ref">Spherical</span></a></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>default basetype</td>
<td><strong>icosa</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>vertex domain</td>
<td><span class="raw-html">r &equals; 1</span></td>
<td><span class="raw-html">0 &le; &theta; &lt; 2&pi;</span></td>
<td><span class="raw-html">0 &le; &phi; &le; &pi;</span></td>
</tr>
</tbody>
</table>
<img alt="../_images/base_spherical.png" class="sphx-glr-single-img" src="../_images/base_spherical.png" />
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">basetype</th>
<th class="head">faces</th>
<th class="head">edges</th>
<th class="head">vertices</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tetra</td>
<td>4</td>
<td>6</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>octa</td>
<td>8</td>
<td>12</td>
<td>6</td>
</tr>
<tr class="row-even"><td>icosa</td>
<td>20</td>
<td>30</td>
<td>12</td>
</tr>
<tr class="row-odd"><td>cube</td>
<td>24</td>
<td>36</td>
<td>14</td>
</tr>
<tr class="row-even"><td>dodeca</td>
<td>60</td>
<td>90</td>
<td>32</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="split-geometries">
<h2>Split Geometries<a class="headerlink" href="#split-geometries" title="Permalink to this headline">¶</a></h2>
<p>For the general surfaces with radial coordinates, the coordinates are cyclic with
<span class="raw-html">&theta;</span> = 0 and <span class="raw-html">&theta; = 2&pi;</span> being the same coordinate vertex position.
For polar and spherical surfaces, there is no unique coordinate mapping for <span class="raw-html">(r,&theta;)</span> at
the origin, i.e. <span class="raw-html">(0,&theta;)</span> is the same point, regardless of <span class="raw-html">&theta;</span>.</p>
<p>The ‘split’ geometries described in this section provide grids which overcome these restrictions.
These geometries are defined so that two distinct vertices are located
at <span class="raw-html">&theta;</span> equal to 0 and <span class="raw-html">2&pi;</span>.
The triangular faces at these vertices are not connected, hence the name ‘split geometries’.</p>
<p>For the polar and spherical basetypes, there are two types of basetype split geometries.
Based on the general surface basetype names, the basetypes are labeled using a suffix, <em>_s</em> and <em>_c</em>
to identify the two types:</p>
<blockquote>
<div><ul class="simple">
<li><strong>_s</strong> - Multiple vertices, not a single point, ‘near’ the origin are used to construct the base surface.</li>
</ul>
<blockquote>
<div>These basetypes are useful when mapping is dependent on <span class="raw-html">&theta;</span> at the origin.</div></blockquote>
<ul class="simple">
<li><strong>_c</strong> - The minimum annular position of vertices can be specified in the constructor with the  <em>minrad</em> argument.</li>
</ul>
<blockquote>
<div>These basetypes are particularly useful when mapping functions have a singularity at the origin.
This restricts function evaluation of coordinates at minimum distance from the origin.</div></blockquote>
</div></blockquote>
<p>The <em>minrad</em> is a named parameter in the surface object constructor as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surface</span> <span class="o">=</span> <span class="n">xxxxxSurface</span><span class="p">(</span><span class="n">rez</span><span class="p">,</span><span class="n">basetype</span><span class="p">,</span><span class="n">minrad</span><span class="o">=</span><span class="n">mr</span><span class="p">)</span>
</pre></div>
</div>
<p>The <em>minrad</em> argument default is 0.01 and should be reasonably set no larger than 0.75.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since these base surfaces are not cyclic in <span class="raw-html">&theta;</span>, functional mapping of the geometry is not restricted
to extending the upper bound of <span class="raw-html">&theta;</span> beyond <span class="raw-html">2&pi;</span>.   This type of mapping has been used
in numerous <a class="reference internal" href="../examples/index.html#functional-maps"><span class="std std-ref">Function Plots</span></a> examples.</p>
</div>
<p>In the following figures for these surfaces, slight mapping of the surface was used to accentuate the split in the surface geometry.
A <em>rez</em> = 3 was used to further enhance the geometries for these surfaces.</p>
<p>These split geometries are very useful when describing non-orientable surfaces.  Numerous examples
are shown for such surfaces, including a  <span class="raw-html">M&ouml;bius</span> strip and a Klein bottle.
( See <a class="reference internal" href="../examples/matplot_ex/twistribbon.html#twistribbon"><span class="std std-ref">Cylindrical Coordinates</span></a> and <a class="reference internal" href="../examples/functional/klein_bottle.html#klein-bottle"><span class="std std-ref">Klein Bottle, Spherical to XYZ</span></a> )</p>
<div class="section" id="id2">
<h3>Polar Surface<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Usage of these basetypes are demonstrated in the examples <a class="reference internal" href="../examples/functional/screw.html#screw"><span class="std std-ref">Sliced Polar Surface</span></a> (hex_s) and <a class="reference internal" href="../examples/functional/bour.html#bour"><span class="std std-ref">Polar Coordinates to XYZ 2</span></a> (hex_c)</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="24%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coordinate system</td>
<td><a class="reference internal" href="../tutorials/surface_geom/basic_coor.html#polar-coor-tut"><span class="std std-ref">Polar</span></a></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>squ_s, hex_s</td>
<td><span class="raw-html">0 &lsim; r &le; 1</span></td>
<td><span class="raw-html">0 &le; &theta; &le; 2&pi;</span></td>
<td><span class="raw-html">z &equals; 0</span></td>
</tr>
<tr class="row-even"><td>squ_c, hex_c</td>
<td><span class="raw-html">minrad &le; r &le; 1</span></td>
<td><span class="raw-html">0 &le; &theta; &le; 2&pi;</span></td>
<td><span class="raw-html">z &equals; 0</span></td>
</tr>
</tbody>
</table>
<img alt="../_images/base_polar_s.png" class="sphx-glr-single-img" src="../_images/base_polar_s.png" />
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">basetype</th>
<th class="head">faces</th>
<th class="head">edges</th>
<th class="head">vertices</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>squ_s</td>
<td>7</td>
<td>15</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>hex_s</td>
<td>11</td>
<td>23</td>
<td>13</td>
</tr>
<tr class="row-even"><td>squ_c</td>
<td>16</td>
<td>29</td>
<td>14</td>
</tr>
<tr class="row-odd"><td>hex_c</td>
<td>12</td>
<td>22</td>
<td>11</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h3>Cylindrical Surface<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Usage of these basetypes are demonstrated in the examples <a class="reference internal" href="../examples/functional/twisted_torus.html#order-operation"><span class="std std-ref">Order of Operation</span></a> (tri_s) and <a class="reference internal" href="../examples/functional/orange_peel.html#orange-peel"><span class="std std-ref">Surface Texture</span></a> (squ_s)</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="24%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coordinate system</td>
<td><a class="reference internal" href="../tutorials/surface_geom/basic_coor.html#cylindrical-coor-tut"><span class="std std-ref">Cylindrical</span></a></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>tri_s, squ_s</td>
<td><span class="raw-html">r &equals; 1</span></td>
<td><span class="raw-html">0 &le; &theta; &le; 2&pi;</span></td>
<td><span class="raw-html">-1 &le; z &le; 1</span></td>
</tr>
</tbody>
</table>
<img alt="../_images/base_cylindrical_s.png" class="sphx-glr-single-img" src="../_images/base_cylindrical_s.png" />
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">basetype</th>
<th class="head">faces</th>
<th class="head">edges</th>
<th class="head">vertices</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tri_s</td>
<td>12</td>
<td>22</td>
<td>11</td>
</tr>
<tr class="row-odd"><td>squ_s</td>
<td>16</td>
<td>29</td>
<td>14</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>Spherical Surface<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Usage of these basetypes are demonstrated in the examples <a class="reference internal" href="../examples/functional/roman.html#roman"><span class="std std-ref">Spherical Coordinates to XYZ</span></a> (octa_c) and <a class="reference internal" href="../examples/functional/klein_bottle.html#klein-bottle"><span class="std std-ref">Klein Bottle, Spherical to XYZ</span></a> (octa_s)</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="22%" />
<col width="21%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coordinate system</td>
<td><a class="reference internal" href="../tutorials/surface_geom/basic_coor.html#spherical-coor-tut"><span class="std std-ref">Spherical</span></a></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>octa_s, cube_s</td>
<td><span class="raw-html">r &equals; 1</span></td>
<td><span class="raw-html">0 &le; &theta; &le; 2&pi;</span></td>
<td><span class="raw-html">0 &lsim; &phi; &lsim; &pi;</span></td>
</tr>
<tr class="row-even"><td>octa_c, cube_c</td>
<td><span class="raw-html">r &equals; 1</span></td>
<td><span class="raw-html">0 &le; &theta; &le; 2&pi;</span></td>
<td><span class="raw-html">&phi;<sup>min</sup> &le; &phi; &le; &phi;<sup>max</sup></span></td>
</tr>
</tbody>
</table>
<p>The <em>minrad</em> argument offsets the range of <span class="raw-html">&phi; by &pm;sin<sup>-1</sup>(<small>minrad</small>)</span> for the <em>octa_c</em> and <em>cube_c</em> basetypes.</p>
<img alt="../_images/base_spherical_s.png" class="sphx-glr-single-img" src="../_images/base_spherical_s.png" />
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">basetype</th>
<th class="head">faces</th>
<th class="head">edges</th>
<th class="head">vertices</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>octa_s</td>
<td>14</td>
<td>26</td>
<td>13</td>
</tr>
<tr class="row-odd"><td>cube_s</td>
<td>48</td>
<td>80</td>
<td>33</td>
</tr>
<tr class="row-even"><td>octa_c</td>
<td>16</td>
<td>29</td>
<td>14</td>
</tr>
<tr class="row-odd"><td>cube_c</td>
<td>12</td>
<td>22</td>
<td>11</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="selecting-a-base">
<span id="base-selection"></span><h2>Selecting a Base<a class="headerlink" href="#selecting-a-base" title="Permalink to this headline">¶</a></h2>
<p>With the variety of native coordinates and surfaces, selecting the optimal base surface
may not be obvious.  Intuitively, if the surface ‘looks’ like a squashed sphere,
a SphericalSurface object would probably be the best choice.  However, for complex functional
relationships, optimal selection will depend on:</p>
<ol class="arabic">
<li><p class="first">The native coordinate system</p>
<blockquote>
<div><ul class="simple">
<li>functional description</li>
<li>functional domain</li>
<li>surface symetry</li>
<li>degree of local surface curvature</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Optimal uniformity in</p>
<blockquote>
<div><ul class="simple">
<li>triangular face areas and shapes</li>
<li>vertex distribution</li>
</ul>
</div></blockquote>
</li>
</ol>
<p>The surface subclass bases have been formulated so that the surface faces are of uniform shape and
size.  As a result, using a subclass object that transforms to preserve the overall ‘shape’
is often the best starting object.  For example, a surface with axial symetry about the z-axis
is best represented using a surface object with and axial coordinate, rather than a PlanarSurface object.
Also, the functional
description is easier to apply and to interpret if it is described in the native coordinates.</p>
<p>Instead of interpreting the subclass objects as surface geometries, it can be advantageous to consider
the objects in terms of a graph of interconnected vertices and edges.  The set of vertices are defined
within the domain of two dependent variables points.  For the subclass objects:</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Graph (Class)</th>
<th class="head">Dependent Variable</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PlanarSurface</td>
<td>( x,y )</td>
</tr>
<tr class="row-odd"><td>PolarSurface</td>
<td>( r, <span class="raw-html">&theta;</span> )</td>
</tr>
<tr class="row-even"><td>CylindricalSurface</td>
<td>( <span class="raw-html">&theta;</span>, z )</td>
</tr>
<tr class="row-odd"><td>SphericalSurface</td>
<td>( <span class="raw-html">&theta; , &phi;</span> )</td>
</tr>
</tbody>
</table>
<p>With appropriate mapping, each of these ‘graphs’ can be transformed into a similar surface.
Consider the simple example of a sphere.  A usual method of developing a grid to construct the surface is to
uniformly subdivide the angular and azimuthal coordinates.  Alternatively using S3Dlib, the four different ‘graphs’ can
be used to visualize the sphere, as shown below. The number in each plot title represents the number of vertices.</p>
<img alt="../_images/sphere_plane_1.png" class="sphx-glr-single-img" src="../_images/sphere_plane_1.png" />
<p>Using a SphericalSurface object, vertices are distributed so that
the triangular faces are relatively uniform by design, without a concentration of elongated faces near the poles.
For the other three objects, faces are not uniform and face anomalies may also occur at the poles since multiple vertices
are formed at these two locations.</p>
<p>The vertex distribution of these four surfaces is</p>
<img alt="../_images/sphere_plane_2.png" class="sphx-glr-single-img" src="../_images/sphere_plane_2.png" />
<p>For complex functional mapping involving parametric equations, a uniform vertex distribution may be
preferable.  The above two figures were constructed from the script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">s3dlib.surface</span> <span class="k">as</span> <span class="nn">s3d</span>

<span class="c1">#.. sphere vs planar, polar, cylindrical-sphere vertices</span>

<span class="c1"># 1. Define function to examine .....................................</span>

<span class="k">def</span> <span class="nf">plane2sphere</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
    <span class="n">T</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">XYZ</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">SphericalSurface</span><span class="o">.</span><span class="n">coor_convert</span><span class="p">([</span><span class="n">R</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">P</span><span class="p">],</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">XYZ</span>

<span class="k">def</span> <span class="nf">disk2sphere</span><span class="p">(</span><span class="n">rtz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">r</span>
    <span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">XYZ</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">SphericalSurface</span><span class="o">.</span><span class="n">coor_convert</span><span class="p">([</span><span class="n">R</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">P</span><span class="p">],</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">XYZ</span>

<span class="k">def</span> <span class="nf">cylinder2sphere</span><span class="p">(</span><span class="n">rtz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">rtz</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">z</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">t</span> <span class="o">=</span> <span class="o">-</span><span class="n">t</span>
    <span class="n">XYZ</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">SphericalSurface</span><span class="o">.</span><span class="n">coor_convert</span><span class="p">([</span><span class="n">r</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">P</span><span class="p">],</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">XYZ</span>

<span class="c1"># 2. Setup and map surfaces .........................................</span>
<span class="n">rez</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;khaki&#39;</span>

<span class="n">plane</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="n">rez</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;oct1&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">plane</span><span class="o">.</span><span class="n">vertices</span>
<span class="hll"><span class="n">plane</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">plane2sphere</span> <span class="p">)</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span><span class="o">.</span><span class="n">hilite</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">)</span>
</span>
<span class="n">disk</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="p">(</span><span class="n">rez</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;hex&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="n">rp</span><span class="p">,</span><span class="n">tp</span><span class="p">,</span><span class="n">zp</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PolarSurface</span><span class="o">.</span><span class="n">coor_convert</span><span class="p">(</span><span class="n">disk</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>
<span class="hll"><span class="n">disk</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">disk2sphere</span><span class="p">,</span><span class="kc">True</span> <span class="p">)</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span><span class="o">.</span><span class="n">hilite</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">)</span>
</span>
<span class="n">cylinder</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">CylindricalSurface</span><span class="p">(</span><span class="n">rez</span><span class="p">,</span><span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;tri&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="n">rc</span><span class="p">,</span><span class="n">tc</span><span class="p">,</span><span class="n">zc</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">CylindricalSurface</span><span class="o">.</span><span class="n">coor_convert</span><span class="p">(</span><span class="n">cylinder</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>
<span class="hll"><span class="n">cylinder</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">cylinder2sphere</span><span class="p">,</span><span class="kc">True</span> <span class="p">)</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span><span class="o">.</span><span class="n">hilite</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">)</span>
</span>
<span class="n">sphere</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">SphericalSurface</span><span class="p">(</span><span class="n">rez</span><span class="p">,</span><span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;icosa&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">shade</span><span class="p">()</span><span class="o">.</span><span class="n">hilite</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">)</span>
<span class="n">rs</span><span class="p">,</span><span class="n">ts</span><span class="p">,</span><span class="n">ps</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">SphericalSurface</span><span class="o">.</span><span class="n">coor_convert</span><span class="p">(</span><span class="n">sphere</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>

<span class="n">surfaces</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span> <span class="n">plane</span><span class="p">,</span>    <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">],</span>    <span class="s1">&#39;(X,Y)&#39;</span><span class="p">,</span>                <span class="s1">&#39;Planar&#39;</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">disk</span><span class="p">,</span>     <span class="p">[</span><span class="n">tp</span><span class="p">,</span><span class="n">rp</span><span class="p">],</span> <span class="sa">r</span><span class="s1">&#39;($\theta$,R)&#39;</span><span class="p">,</span>         <span class="s1">&#39;Polar&#39;</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">cylinder</span><span class="p">,</span> <span class="p">[</span><span class="n">tc</span><span class="p">,</span><span class="n">zc</span><span class="p">],</span> <span class="sa">r</span><span class="s1">&#39;($\theta$,Z)&#39;</span><span class="p">,</span>         <span class="s1">&#39;Cylindrical&#39;</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">sphere</span><span class="p">,</span>   <span class="p">[</span><span class="n">ts</span><span class="p">,</span><span class="n">ps</span><span class="p">],</span> <span class="sa">r</span><span class="s1">&#39;($\theta$,$\varphi$)&#39;</span><span class="p">,</span> <span class="s1">&#39;Spherical&#39;</span> <span class="p">]</span> <span class="p">]</span>

<span class="c1"># 3. Construct figure, add surface, plot ............................</span>

<span class="c1"># Figure 1 Spherical surface views .........................</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">maxmin</span> <span class="o">=</span> <span class="p">(</span> <span class="o">-</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.8</span> <span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">surfaces</span><span class="p">))</span> <span class="p">:</span>
    <span class="n">surface</span> <span class="o">=</span> <span class="n">surfaces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="n">maxmin</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="n">maxmin</span><span class="p">,</span> <span class="n">zlim</span><span class="o">=</span><span class="n">maxmin</span> <span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">surface</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Surface, &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">surface</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span> <span class="n">title</span> <span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_proj_type</span><span class="p">(</span><span class="s1">&#39;ortho&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">surface</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1"># Figure 2 - Vertex distribution plots .....................</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">surfaces</span><span class="p">))</span> <span class="p">:</span>
    <span class="n">surface</span> <span class="o">=</span> <span class="n">surfaces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="o">+</span><span class="n">i</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">surface</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span><span class="s1">&#39; &#39;</span><span class="o">+</span> <span class="n">surface</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span><span class="s1">&#39; Vertices&#39;</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span> <span class="n">title</span> <span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;medium&#39;</span> <span class="p">)</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">surface</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># ..........................................................</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Notice in the above functions <em>plane2sphere</em> and cylinder2sphere*, the T variable is set negative.  This is
to have a consistent outward normal to the faces using a right-hand rule definition.</p>
<div class="section" id="planar-klein-bottle">
<span id="planarklein"></span><h3>Planar Klein Bottle<a class="headerlink" href="#planar-klein-bottle" title="Permalink to this headline">¶</a></h3>
<p>A major advantage of using S3Dlib is that surface geometries are set in one expression.
Therefore, during code development, effects of geometry can be easily evaluated and alternatives
can be made.  In addition,
each subclass has the <em>coor_convert</em> method to transform among planar, polar, cylindrical
and spherical coordinates.</p>
<p>This provides flexibility to evaluate the visualization for different grids.  For example,
the <a class="reference internal" href="../examples/functional/klein_bottle.html#klein-bottle"><span class="std std-ref">Klein Bottle, Spherical to XYZ</span></a> example uses a SphericalSurface object.  It can just as easily
be constructed uing a PlanarSurface object with the function slightly modified as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">klein_planar</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
<span class="hll">    <span class="n">t</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span><span class="hll">    <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span>    <span class="c1">#.........</span>
    <span class="n">u</span> <span class="o">=</span> <span class="n">p</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">t</span>
    <span class="n">cU</span><span class="p">,</span> <span class="n">sU</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">u</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
    <span class="n">cV</span><span class="p">,</span> <span class="n">sV</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">15</span><span class="p">)</span><span class="o">*</span><span class="n">cU</span><span class="o">*</span> \
        <span class="p">(</span>  <span class="p">(</span> <span class="mi">3</span> <span class="p">)</span><span class="o">*</span><span class="n">cV</span> <span class="o">+</span> \
           <span class="p">(</span> <span class="o">-</span><span class="mi">30</span> <span class="o">+</span> <span class="mi">90</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">cU</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="mi">60</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">cU</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">cU</span><span class="o">*</span><span class="n">cV</span> <span class="p">)</span><span class="o">*</span><span class="n">sU</span> \
        <span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">15</span><span class="p">)</span><span class="o">*</span><span class="n">sU</span><span class="o">*</span> \
        <span class="p">(</span>  <span class="p">(</span> <span class="mi">3</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">cU</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span><span class="mi">48</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">cU</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span><span class="mi">48</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">cU</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">)</span><span class="o">*</span><span class="n">cV</span> <span class="o">+</span> \
           <span class="p">(</span><span class="o">-</span><span class="mi">60</span> <span class="o">+</span> <span class="p">(</span> <span class="mi">5</span><span class="o">*</span><span class="n">cU</span> <span class="o">-</span> <span class="mi">5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">cU</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">80</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">cU</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">80</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">cU</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="p">)</span><span class="o">*</span><span class="n">cV</span>  <span class="p">)</span><span class="o">*</span><span class="n">sU</span> \
        <span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">15</span><span class="p">)</span><span class="o">*</span><span class="p">(</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">cU</span><span class="o">*</span><span class="n">sU</span> <span class="p">)</span><span class="o">*</span><span class="n">sV</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span>
</pre></div>
</div>
<p>Where now, the surface is simply defined as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">surface</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">PlanarSurface</span><span class="p">(</span><span class="n">rez</span><span class="p">,</span><span class="n">basetype</span><span class="o">=</span><span class="s1">&#39;oct1&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span> <span class="p">)</span>
<span class="n">surface</span><span class="o">.</span><span class="n">map_geom_from_op</span><span class="p">(</span> <span class="n">klein_planar</span><span class="p">,</span> <span class="n">returnxyz</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
<p>Resulting in a similar visualization as:</p>
<img alt="../_images/klein_planar.png" class="sphx-glr-single-img" src="../_images/klein_planar.png" />
<p>This visualization is ‘smoother’ than the example due to the uniform distribution of vertices in the parametric
dependent variables.  This use of the planar and cylindrical base and split surfaces is often useful for parametric functions
for this reason, even though the functions may be expressed in other native coordinates.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="color_maps.html" title="Color Map Utilities"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Guides"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../doc_index.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Guides</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, frank zaverl.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>